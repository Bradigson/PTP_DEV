@model DataLayer.ViewModels.ProductPhotosViewModel

@{
    ViewBag.Title = "SetPictures";
}

<h2>SetPictures</h2>


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <h4>ProductPhotosViewModel</h4>
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @{
            if (Model.Imagens != null && Model.Imagens.Count > 0)
            {
                <div class="row">
                    @foreach (var imagen in Model.Imagens)
                    {

                        <div class="col-md-4">
                            <div class="row">
                                <img src="@imagen.Ruta" />
                            </div>
                            <div class="row">
                                <input id="@($"inputFile{imagen.Id}")" type="file" />
                                <button class="guardarBtn" id="@($"guardarBtn{imagen.Id}")">Cambiar</button>
                            </div>
                        </div>
                        {
                             if (Model.Imagens.Count < Model.MaxImagenes)
                             {
                                 <div class="col-md-4">
                                     <div class="row">
                                         <img src="~/Imagenes/Defaults/default.png" />
                                     </div>
                                     <div class="row">
                                         <input type="file" id="@($"inputNewFile{Model.ProductoId}")" />
                                         <button class="guardarNewBtn" id="@($"guardarNewBtn{Model.ProductoId}")">Agregar Nueva</button>
                                     </div>
                                 </div>

                             }

                         }

                    }
                </div>
            }
            else
            {
                <div class="row">
                    <div class="col-md-4">
                        <div class="row">
                            <img src="~/Imagenes/Defaults/default.png" />
                        </div>
                        <div class="row">
                            <input type="file" id="@($"inputNewFile{Model.ProductoId}")" />
                            <button class="guardarNewBtn" id="@($"guardarNewBtn{Model.ProductoId}")">Agregar Nueva</button>
                        </div>
                    </div>

                </div>
            }


        }


    </div>
}

@section Scripts {
    <script src="~/Scripts/Proyecto/productoPictures.js"></script>
    @Scripts.Render("~/bundles/jqueryval")
}
